{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.ELEVATION_LEVELS_MAP = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _Animated = _interopRequireDefault(require(\"react-native-web/dist/exports/Animated\"));\nvar _Dimensions = _interopRequireDefault(require(\"react-native-web/dist/exports/Dimensions\"));\nvar _Easing = _interopRequireDefault(require(\"react-native-web/dist/exports/Easing\"));\nvar _I18nManager = _interopRequireDefault(require(\"react-native-web/dist/exports/I18nManager\"));\nvar _Keyboard = _interopRequireDefault(require(\"react-native-web/dist/exports/Keyboard\"));\nvar _Platform = _interopRequireDefault(require(\"react-native-web/dist/exports/Platform\"));\nvar _ScrollView = _interopRequireDefault(require(\"react-native-web/dist/exports/ScrollView\"));\nvar _StyleSheet = _interopRequireDefault(require(\"react-native-web/dist/exports/StyleSheet\"));\nvar _View = _interopRequireDefault(require(\"react-native-web/dist/exports/View\"));\nvar _Pressable = _interopRequireDefault(require(\"react-native-web/dist/exports/Pressable\"));\nvar _reactNativeSafeAreaContext = require(\"react-native-safe-area-context\");\nvar _MenuItem = _interopRequireDefault(require(\"./MenuItem\"));\nvar _theming = require(\"../../core/theming\");\nvar _types = require(\"../../types\");\nvar _addEventListener = require(\"../../utils/addEventListener\");\nvar _BackHandler = require(\"../../utils/BackHandler/BackHandler\");\nvar _Portal = _interopRequireDefault(require(\"../Portal/Portal\"));\nvar _Surface = _interopRequireDefault(require(\"../Surface\"));\nfunction _interopRequireWildcard(e, t) {\n  if (\"function\" == typeof WeakMap) var r = new WeakMap(),\n    n = new WeakMap();\n  return (_interopRequireWildcard = function _interopRequireWildcard(e, t) {\n    if (!t && e && e.__esModule) return e;\n    var o,\n      i,\n      f = {\n        __proto__: null,\n        \"default\": e\n      };\n    if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return f;\n    if (o = t ? n : r) {\n      if (o.has(e)) return o.get(e);\n      o.set(e, f);\n    }\n    for (var _t2 in e) \"default\" !== _t2 && {}.hasOwnProperty.call(e, _t2) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t2)) && (i.get || i.set) ? o(f, _t2, i) : f[_t2] = e[_t2]);\n    return f;\n  })(e, t);\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      (0, _defineProperty2[\"default\"])(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nvar SCREEN_INDENT = 8;\nvar ANIMATION_DURATION = 250;\nvar EASING = _Easing[\"default\"].bezier(0.4, 0, 0.2, 1);\nvar WINDOW_LAYOUT = _Dimensions[\"default\"].get('window');\nvar DEFAULT_ELEVATION = 2;\nvar ELEVATION_LEVELS_MAP = exports.ELEVATION_LEVELS_MAP = Object.values(_types.ElevationLevels);\nvar DEFAULT_MODE = 'elevated';\nvar focusFirstDOMNode = function focusFirstDOMNode(el) {\n  if (el && _Platform[\"default\"].OS === 'web') {\n    if (el instanceof HTMLElement) {\n      var _el$querySelector;\n      (_el$querySelector = el.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])')) === null || _el$querySelector === void 0 || _el$querySelector.focus();\n    }\n  }\n};\nvar isCoordinate = function isCoordinate(anchor) {\n  return !React.isValidElement(anchor) && typeof (anchor === null || anchor === void 0 ? void 0 : anchor.x) === 'number' && typeof (anchor === null || anchor === void 0 ? void 0 : anchor.y) === 'number';\n};\nvar isBrowser = function isBrowser() {\n  return _Platform[\"default\"].OS === 'web' && 'document' in global;\n};\nvar Menu = function Menu(_ref) {\n  var visible = _ref.visible,\n    statusBarHeight = _ref.statusBarHeight,\n    _ref$overlayAccessibi = _ref.overlayAccessibilityLabel,\n    overlayAccessibilityLabel = _ref$overlayAccessibi === void 0 ? 'Close menu' : _ref$overlayAccessibi,\n    _ref$testID = _ref.testID,\n    testID = _ref$testID === void 0 ? 'menu' : _ref$testID,\n    anchor = _ref.anchor,\n    onDismiss = _ref.onDismiss,\n    anchorPosition = _ref.anchorPosition,\n    contentStyle = _ref.contentStyle,\n    style = _ref.style,\n    _ref$elevation = _ref.elevation,\n    elevation = _ref$elevation === void 0 ? DEFAULT_ELEVATION : _ref$elevation,\n    _ref$mode = _ref.mode,\n    mode = _ref$mode === void 0 ? DEFAULT_MODE : _ref$mode,\n    children = _ref.children,\n    themeOverrides = _ref.theme,\n    keyboardShouldPersistTaps = _ref.keyboardShouldPersistTaps;\n  var theme = (0, _theming.useInternalTheme)(themeOverrides);\n  var insets = (0, _reactNativeSafeAreaContext.useSafeAreaInsets)();\n  var _React$useState = React.useState(visible),\n    _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n    rendered = _React$useState2[0],\n    setRendered = _React$useState2[1];\n  var _React$useState3 = React.useState(0),\n    _React$useState4 = (0, _slicedToArray2[\"default\"])(_React$useState3, 2),\n    left = _React$useState4[0],\n    setLeft = _React$useState4[1];\n  var _React$useState5 = React.useState(0),\n    _React$useState6 = (0, _slicedToArray2[\"default\"])(_React$useState5, 2),\n    top = _React$useState6[0],\n    setTop = _React$useState6[1];\n  var _React$useState7 = React.useState({\n      width: 0,\n      height: 0\n    }),\n    _React$useState8 = (0, _slicedToArray2[\"default\"])(_React$useState7, 2),\n    menuLayout = _React$useState8[0],\n    setMenuLayout = _React$useState8[1];\n  var _React$useState9 = React.useState({\n      width: 0,\n      height: 0\n    }),\n    _React$useState0 = (0, _slicedToArray2[\"default\"])(_React$useState9, 2),\n    anchorLayout = _React$useState0[0],\n    setAnchorLayout = _React$useState0[1];\n  var _React$useState1 = React.useState({\n      width: WINDOW_LAYOUT.width,\n      height: WINDOW_LAYOUT.height\n    }),\n    _React$useState10 = (0, _slicedToArray2[\"default\"])(_React$useState1, 2),\n    windowLayout = _React$useState10[0],\n    setWindowLayout = _React$useState10[1];\n  var opacityAnimationRef = React.useRef(new _Animated[\"default\"].Value(0));\n  var scaleAnimationRef = React.useRef(new _Animated[\"default\"].ValueXY({\n    x: 0,\n    y: 0\n  }));\n  var keyboardHeightRef = React.useRef(0);\n  var prevVisible = React.useRef(null);\n  var anchorRef = React.useRef(null);\n  var menuRef = React.useRef(null);\n  var prevRendered = React.useRef(false);\n  var keyboardDidShow = React.useCallback(function (e) {\n    var keyboardHeight = e.endCoordinates.height;\n    keyboardHeightRef.current = keyboardHeight;\n  }, []);\n  var keyboardDidHide = React.useCallback(function () {\n    keyboardHeightRef.current = 0;\n  }, []);\n  var keyboardDidShowListenerRef = React.useRef(undefined);\n  var keyboardDidHideListenerRef = React.useRef(undefined);\n  var backHandlerSubscriptionRef = React.useRef(undefined);\n  var dimensionsSubscriptionRef = React.useRef(undefined);\n  var handleDismiss = React.useCallback(function () {\n    if (visible) {\n      onDismiss === null || onDismiss === void 0 || onDismiss();\n    }\n  }, [onDismiss, visible]);\n  var handleKeypress = React.useCallback(function (e) {\n    if (e.key === 'Escape') {\n      onDismiss === null || onDismiss === void 0 || onDismiss();\n    }\n  }, [onDismiss]);\n  var removeListeners = React.useCallback(function () {\n    var _backHandlerSubscript, _dimensionsSubscripti;\n    (_backHandlerSubscript = backHandlerSubscriptionRef.current) === null || _backHandlerSubscript === void 0 || _backHandlerSubscript.remove();\n    (_dimensionsSubscripti = dimensionsSubscriptionRef.current) === null || _dimensionsSubscripti === void 0 || _dimensionsSubscripti.remove();\n    isBrowser() && document.removeEventListener('keyup', handleKeypress);\n  }, [handleKeypress]);\n  var attachListeners = React.useCallback(function () {\n    backHandlerSubscriptionRef.current = (0, _addEventListener.addEventListener)(_BackHandler.BackHandler, 'hardwareBackPress', handleDismiss);\n    dimensionsSubscriptionRef.current = (0, _addEventListener.addEventListener)(_Dimensions[\"default\"], 'change', handleDismiss);\n    _Platform[\"default\"].OS === 'web' && document.addEventListener('keyup', handleKeypress);\n  }, [handleDismiss, handleKeypress]);\n  var measureMenuLayout = function measureMenuLayout() {\n    return new Promise(function (resolve) {\n      if (menuRef.current) {\n        menuRef.current.measureInWindow(function (x, y, width, height) {\n          resolve({\n            x: x,\n            y: y,\n            width: width,\n            height: height\n          });\n        });\n      }\n    });\n  };\n  var measureAnchorLayout = React.useCallback(function () {\n    return new Promise(function (resolve) {\n      if (isCoordinate(anchor)) {\n        resolve({\n          x: anchor.x,\n          y: anchor.y,\n          width: 0,\n          height: 0\n        });\n        return;\n      }\n      if (anchorRef.current) {\n        anchorRef.current.measureInWindow(function (x, y, width, height) {\n          resolve({\n            x: x,\n            y: y,\n            width: width,\n            height: height\n          });\n        });\n      }\n    });\n  }, [anchor]);\n  var show = React.useCallback((0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee() {\n    var windowLayoutResult, _yield$Promise$all, _yield$Promise$all2, menuLayoutResult, anchorLayoutResult, animation;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          windowLayoutResult = _Dimensions[\"default\"].get('window');\n          _context.next = 1;\n          return Promise.all([measureMenuLayout(), measureAnchorLayout()]);\n        case 1:\n          _yield$Promise$all = _context.sent;\n          _yield$Promise$all2 = (0, _slicedToArray2[\"default\"])(_yield$Promise$all, 2);\n          menuLayoutResult = _yield$Promise$all2[0];\n          anchorLayoutResult = _yield$Promise$all2[1];\n          if (!(!windowLayoutResult.width || !windowLayoutResult.height || !menuLayoutResult.width || !menuLayoutResult.height || !anchorLayoutResult.width && !isCoordinate(anchor) || !anchorLayoutResult.height && !isCoordinate(anchor))) {\n            _context.next = 2;\n            break;\n          }\n          requestAnimationFrame(show);\n          return _context.abrupt(\"return\");\n        case 2:\n          setLeft(anchorLayoutResult.x);\n          setTop(anchorLayoutResult.y);\n          setAnchorLayout({\n            height: anchorLayoutResult.height,\n            width: anchorLayoutResult.width\n          });\n          setMenuLayout({\n            height: menuLayoutResult.height,\n            width: menuLayoutResult.width\n          });\n          setWindowLayout({\n            height: windowLayoutResult.height - keyboardHeightRef.current,\n            width: windowLayoutResult.width\n          });\n          attachListeners();\n          animation = theme.animation;\n          _Animated[\"default\"].parallel([_Animated[\"default\"].timing(scaleAnimationRef.current, {\n            toValue: {\n              x: menuLayoutResult.width,\n              y: menuLayoutResult.height\n            },\n            duration: ANIMATION_DURATION * animation.scale,\n            easing: EASING,\n            useNativeDriver: true\n          }), _Animated[\"default\"].timing(opacityAnimationRef.current, {\n            toValue: 1,\n            duration: ANIMATION_DURATION * animation.scale,\n            easing: EASING,\n            useNativeDriver: true\n          })]).start(function (_ref3) {\n            var finished = _ref3.finished;\n            if (finished) {\n              focusFirstDOMNode(menuRef.current);\n              prevRendered.current = true;\n            }\n          });\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  })), [anchor, attachListeners, measureAnchorLayout, theme]);\n  var hide = React.useCallback(function () {\n    removeListeners();\n    var animation = theme.animation;\n    _Animated[\"default\"].timing(opacityAnimationRef.current, {\n      toValue: 0,\n      duration: ANIMATION_DURATION * animation.scale,\n      easing: EASING,\n      useNativeDriver: true\n    }).start(function (_ref4) {\n      var finished = _ref4.finished;\n      if (finished) {\n        setMenuLayout({\n          width: 0,\n          height: 0\n        });\n        setRendered(false);\n        prevRendered.current = false;\n        focusFirstDOMNode(anchorRef.current);\n      }\n    });\n  }, [removeListeners, theme]);\n  var updateVisibility = React.useCallback(function () {\n    var _ref5 = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee2(display) {\n      return _regenerator[\"default\"].wrap(function (_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 1;\n            return Promise.resolve().then(function () {\n              if (display && !prevRendered.current) {\n                show();\n                return;\n              }\n              if (!display && prevRendered.current) {\n                hide();\n              }\n              return;\n            });\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function (_x) {\n      return _ref5.apply(this, arguments);\n    };\n  }(), [hide, show]);\n  React.useEffect(function () {\n    var opacityAnimation = opacityAnimationRef.current;\n    var scaleAnimation = scaleAnimationRef.current;\n    keyboardDidShowListenerRef.current = _Keyboard[\"default\"].addListener('keyboardDidShow', keyboardDidShow);\n    keyboardDidHideListenerRef.current = _Keyboard[\"default\"].addListener('keyboardDidHide', keyboardDidHide);\n    return function () {\n      var _keyboardDidShowListe, _keyboardDidHideListe;\n      removeListeners();\n      (_keyboardDidShowListe = keyboardDidShowListenerRef.current) === null || _keyboardDidShowListe === void 0 || _keyboardDidShowListe.remove();\n      (_keyboardDidHideListe = keyboardDidHideListenerRef.current) === null || _keyboardDidHideListe === void 0 || _keyboardDidHideListe.remove();\n      scaleAnimation.removeAllListeners();\n      opacityAnimation === null || opacityAnimation === void 0 || opacityAnimation.removeAllListeners();\n    };\n  }, [removeListeners, keyboardDidHide, keyboardDidShow]);\n  React.useEffect(function () {\n    if (prevVisible.current !== visible) {\n      prevVisible.current = visible;\n      if (visible !== rendered) {\n        setRendered(visible);\n      }\n    }\n  }, [visible, rendered]);\n  React.useEffect(function () {\n    updateVisibility(rendered);\n  }, [rendered, updateVisibility]);\n  var additionalVerticalValue = _Platform[\"default\"].select({\n    android: statusBarHeight !== null && statusBarHeight !== void 0 ? statusBarHeight : insets.top,\n    \"default\": 0\n  });\n  var positionTransforms = [];\n  var leftTransformation = left;\n  var topTransformation = !isCoordinate(anchorRef.current) && anchorPosition === 'bottom' ? top + anchorLayout.height : top;\n  if (left <= windowLayout.width - menuLayout.width - SCREEN_INDENT) {\n    positionTransforms.push({\n      translateX: scaleAnimationRef.current.x.interpolate({\n        inputRange: [0, menuLayout.width],\n        outputRange: [-(menuLayout.width / 2), 0]\n      })\n    });\n    if (leftTransformation < SCREEN_INDENT) {\n      leftTransformation = SCREEN_INDENT;\n    }\n  } else {\n    positionTransforms.push({\n      translateX: scaleAnimationRef.current.x.interpolate({\n        inputRange: [0, menuLayout.width],\n        outputRange: [menuLayout.width / 2, 0]\n      })\n    });\n    leftTransformation += anchorLayout.width - menuLayout.width;\n    var right = leftTransformation + menuLayout.width;\n    if (right > windowLayout.width - SCREEN_INDENT) {\n      leftTransformation = windowLayout.width - SCREEN_INDENT - menuLayout.width;\n    }\n  }\n  var scrollableMenuHeight = 0;\n  if (topTransformation >= windowLayout.height - menuLayout.height - SCREEN_INDENT - additionalVerticalValue && topTransformation <= windowLayout.height - topTransformation) {\n    scrollableMenuHeight = windowLayout.height - topTransformation - SCREEN_INDENT - additionalVerticalValue;\n  } else if (topTransformation >= windowLayout.height - menuLayout.height - SCREEN_INDENT - additionalVerticalValue && topTransformation >= windowLayout.height - top && topTransformation <= menuLayout.height - anchorLayout.height + SCREEN_INDENT - additionalVerticalValue) {\n    scrollableMenuHeight = topTransformation + anchorLayout.height - SCREEN_INDENT + additionalVerticalValue;\n  }\n  scrollableMenuHeight = scrollableMenuHeight > windowLayout.height - 2 * SCREEN_INDENT ? windowLayout.height - 2 * SCREEN_INDENT : scrollableMenuHeight;\n  if (topTransformation <= windowLayout.height - menuLayout.height - SCREEN_INDENT - additionalVerticalValue || topTransformation >= windowLayout.height - menuLayout.height - SCREEN_INDENT - additionalVerticalValue && topTransformation <= windowLayout.height - topTransformation) {\n    positionTransforms.push({\n      translateY: scaleAnimationRef.current.y.interpolate({\n        inputRange: [0, menuLayout.height],\n        outputRange: [-((scrollableMenuHeight || menuLayout.height) / 2), 0]\n      })\n    });\n    if (topTransformation < SCREEN_INDENT) {\n      topTransformation = SCREEN_INDENT;\n    }\n  } else {\n    positionTransforms.push({\n      translateY: scaleAnimationRef.current.y.interpolate({\n        inputRange: [0, menuLayout.height],\n        outputRange: [(scrollableMenuHeight || menuLayout.height) / 2, 0]\n      })\n    });\n    topTransformation += anchorLayout.height - (scrollableMenuHeight || menuLayout.height);\n    var bottom = topTransformation + (scrollableMenuHeight || menuLayout.height) + additionalVerticalValue;\n    if (bottom > windowLayout.height - SCREEN_INDENT) {\n      topTransformation = scrollableMenuHeight === windowLayout.height - 2 * SCREEN_INDENT ? -SCREEN_INDENT * 2 : windowLayout.height - menuLayout.height - SCREEN_INDENT - additionalVerticalValue;\n    }\n  }\n  var shadowMenuContainerStyle = _objectSpread(_objectSpread({\n    opacity: opacityAnimationRef.current,\n    transform: [{\n      scaleX: scaleAnimationRef.current.x.interpolate({\n        inputRange: [0, menuLayout.width],\n        outputRange: [0, 1]\n      })\n    }, {\n      scaleY: scaleAnimationRef.current.y.interpolate({\n        inputRange: [0, menuLayout.height],\n        outputRange: [0, 1]\n      })\n    }],\n    borderRadius: theme.roundness\n  }, !theme.isV3 && {\n    elevation: 8\n  }), scrollableMenuHeight ? {\n    height: scrollableMenuHeight\n  } : {});\n  var positionStyle = _objectSpread({\n    top: isCoordinate(anchor) ? topTransformation : topTransformation + additionalVerticalValue\n  }, _I18nManager[\"default\"].getConstants().isRTL ? {\n    right: leftTransformation\n  } : {\n    left: leftTransformation\n  });\n  var pointerEvents = visible ? 'box-none' : 'none';\n  return React.createElement(_View[\"default\"], {\n    ref: function ref(_ref6) {\n      anchorRef.current = _ref6;\n    },\n    collapsable: false\n  }, isCoordinate(anchor) ? null : anchor, rendered ? React.createElement(_Portal[\"default\"], null, React.createElement(_Pressable[\"default\"], {\n    accessibilityLabel: overlayAccessibilityLabel,\n    accessibilityRole: \"button\",\n    onPress: onDismiss,\n    style: styles.pressableOverlay\n  }), React.createElement(_View[\"default\"], {\n    ref: function ref(_ref7) {\n      menuRef.current = _ref7;\n    },\n    collapsable: false,\n    accessibilityViewIsModal: visible,\n    style: [styles.wrapper, positionStyle, style],\n    pointerEvents: pointerEvents,\n    onAccessibilityEscape: onDismiss,\n    testID: \"\".concat(testID, \"-view\")\n  }, React.createElement(_Animated[\"default\"].View, {\n    pointerEvents: pointerEvents,\n    style: {\n      transform: positionTransforms\n    }\n  }, React.createElement(_Surface[\"default\"], _extends({\n    mode: mode,\n    pointerEvents: pointerEvents,\n    style: [styles.shadowMenuContainer, shadowMenuContainerStyle, theme.isV3 && {\n      backgroundColor: theme.colors.elevation[ELEVATION_LEVELS_MAP[elevation]]\n    }, contentStyle]\n  }, theme.isV3 && {\n    elevation: elevation\n  }, {\n    testID: \"\".concat(testID, \"-surface\"),\n    theme: theme,\n    container: true\n  }), scrollableMenuHeight && React.createElement(_ScrollView[\"default\"], {\n    keyboardShouldPersistTaps: keyboardShouldPersistTaps\n  }, children) || React.createElement(React.Fragment, null, children))))) : null);\n};\nMenu.Item = _MenuItem[\"default\"];\nvar styles = _StyleSheet[\"default\"].create({\n  wrapper: {\n    position: 'absolute'\n  },\n  shadowMenuContainer: {\n    opacity: 0,\n    paddingVertical: 8\n  },\n  pressableOverlay: _objectSpread(_objectSpread(_objectSpread({}, _Platform[\"default\"].select({\n    web: {\n      cursor: 'auto'\n    }\n  })), _StyleSheet[\"default\"].absoluteFillObject), {}, {\n    width: '100%'\n  })\n});\nvar _default = exports[\"default\"] = Menu;","map":{"version":3,"names":["React","_interopRequireWildcard","require","_Animated","_interopRequireDefault","_Dimensions","_Easing","_I18nManager","_Keyboard","_Platform","_ScrollView","_StyleSheet","_View","_Pressable","_reactNativeSafeAreaContext","_MenuItem","_theming","_types","_addEventListener","_BackHandler","_Portal","_Surface","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t2","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","SCREEN_INDENT","ANIMATION_DURATION","EASING","bezier","WINDOW_LAYOUT","DEFAULT_ELEVATION","ELEVATION_LEVELS_MAP","exports","values","ElevationLevels","DEFAULT_MODE","focusFirstDOMNode","el","OS","HTMLElement","_el$querySelector","querySelector","focus","isCoordinate","anchor","isValidElement","x","y","isBrowser","global","Menu","_ref","visible","statusBarHeight","_ref$overlayAccessibi","overlayAccessibilityLabel","_ref$testID","testID","onDismiss","anchorPosition","contentStyle","style","_ref$elevation","elevation","_ref$mode","mode","children","themeOverrides","theme","keyboardShouldPersistTaps","useInternalTheme","insets","useSafeAreaInsets","_React$useState","useState","_React$useState2","_slicedToArray2","rendered","setRendered","_React$useState3","_React$useState4","left","setLeft","_React$useState5","_React$useState6","top","setTop","_React$useState7","width","height","_React$useState8","menuLayout","setMenuLayout","_React$useState9","_React$useState0","anchorLayout","setAnchorLayout","_React$useState1","_React$useState10","windowLayout","setWindowLayout","opacityAnimationRef","useRef","Value","scaleAnimationRef","ValueXY","keyboardHeightRef","prevVisible","anchorRef","menuRef","prevRendered","keyboardDidShow","useCallback","keyboardHeight","endCoordinates","current","keyboardDidHide","keyboardDidShowListenerRef","undefined","keyboardDidHideListenerRef","backHandlerSubscriptionRef","dimensionsSubscriptionRef","handleDismiss","handleKeypress","key","removeListeners","_backHandlerSubscript","_dimensionsSubscripti","remove","document","removeEventListener","attachListeners","addEventListener","BackHandler","measureMenuLayout","Promise","resolve","measureInWindow","measureAnchorLayout","show","_asyncToGenerator2","_regenerator","mark","_callee","windowLayoutResult","_yield$Promise$all","_yield$Promise$all2","menuLayoutResult","anchorLayoutResult","animation","wrap","_context","prev","next","all","sent","requestAnimationFrame","abrupt","parallel","timing","toValue","duration","scale","easing","useNativeDriver","start","_ref3","finished","stop","hide","_ref4","updateVisibility","_ref5","_callee2","display","_context2","then","_x","useEffect","opacityAnimation","scaleAnimation","addListener","_keyboardDidShowListe","_keyboardDidHideListe","removeAllListeners","additionalVerticalValue","select","android","positionTransforms","leftTransformation","topTransformation","translateX","interpolate","inputRange","outputRange","right","scrollableMenuHeight","translateY","bottom","shadowMenuContainerStyle","opacity","transform","scaleX","scaleY","borderRadius","roundness","isV3","positionStyle","getConstants","isRTL","pointerEvents","createElement","ref","_ref6","collapsable","accessibilityLabel","accessibilityRole","onPress","styles","pressableOverlay","_ref7","accessibilityViewIsModal","wrapper","onAccessibilityEscape","concat","View","_extends","shadowMenuContainer","backgroundColor","colors","container","Fragment","Item","create","position","paddingVertical","web","cursor","absoluteFillObject","_default"],"sources":["C:\\Users\\vanma\\StudioProjects\\ToneShift\\toneshift-frontend\\node_modules\\react-native-paper\\src\\components\\Menu\\Menu.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  Animated,\n  Dimensions,\n  Easing,\n  EmitterSubscription,\n  I18nManager,\n  Keyboard,\n  KeyboardEvent as RNKeyboardEvent,\n  LayoutRectangle,\n  NativeEventSubscription,\n  Platform,\n  ScrollView,\n  ScrollViewProps,\n  StyleProp,\n  StyleSheet,\n  View,\n  ViewStyle,\n  Pressable,\n} from 'react-native';\n\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\n\nimport MenuItem from './MenuItem';\nimport { useInternalTheme } from '../../core/theming';\nimport type { MD3Elevation, ThemeProp } from '../../types';\nimport { ElevationLevels } from '../../types';\nimport { addEventListener } from '../../utils/addEventListener';\nimport { BackHandler } from '../../utils/BackHandler/BackHandler';\nimport Portal from '../Portal/Portal';\nimport Surface from '../Surface';\n\nexport type Props = {\n  /**\n   * Whether the Menu is currently visible.\n   */\n  visible: boolean;\n  /**\n   * The anchor to open the menu from. In most cases, it will be a button that opens the menu.\n   */\n  anchor: React.ReactNode | { x: number; y: number };\n  /**\n   * Whether the menu should open at the top of the anchor or at its bottom.\n   * Applied only when anchor is a node, not an x/y position.\n   */\n  anchorPosition?: 'top' | 'bottom';\n  /**\n   * Extra margin to add at the top of the menu to account for translucent status bar on Android.\n   * If you are using Expo, we assume translucent status bar and set a height for status bar automatically.\n   * Pass `0` or a custom value to and customize it.\n   * This is automatically handled on iOS.\n   */\n  statusBarHeight?: number;\n  /**\n   * Callback called when Menu is dismissed. The `visible` prop needs to be updated when this is called.\n   */\n  onDismiss?: () => void;\n  /**\n   * Accessibility label for the overlay. This is read by the screen reader when the user taps outside the menu.\n   */\n  overlayAccessibilityLabel?: string;\n  /**\n   * Content of the `Menu`.\n   */\n  children: React.ReactNode;\n  /**\n   * Style of menu's inner content.\n   */\n  contentStyle?: Animated.WithAnimatedValue<StyleProp<ViewStyle>>;\n  style?: StyleProp<ViewStyle>;\n  /**\n   * Elevation level of the menu's content. Shadow styles are calculated based on this value. Default `backgroundColor` is taken from the corresponding `theme.colors.elevation` property. By default equals `2`.\n   * @supported Available in v5.x with theme version 3\n   */\n  elevation?: MD3Elevation;\n  /**\n   * Mode of the menu's content.\n   * - `elevated` - Surface with a shadow and background color corresponding to set `elevation` value.\n   * - `flat` - Surface without a shadow, with the background color corresponding to set `elevation` value.\n   *\n   * @supported Available in v5.x with theme version 3\n   */\n  mode?: 'flat' | 'elevated';\n  /**\n   * @optional\n   */\n  theme?: ThemeProp;\n  /**\n   * Inner ScrollView prop\n   */\n  keyboardShouldPersistTaps?: ScrollViewProps['keyboardShouldPersistTaps'];\n  /**\n   * testID to be used on tests.\n   */\n  testID?: string;\n};\n\n// Minimum padding between the edge of the screen and the menu\nconst SCREEN_INDENT = 8;\n// From https://material.io/design/motion/speed.html#duration\nconst ANIMATION_DURATION = 250;\n// From the 'Standard easing' section of https://material.io/design/motion/speed.html#easing\nconst EASING = Easing.bezier(0.4, 0, 0.2, 1);\n\nconst WINDOW_LAYOUT = Dimensions.get('window');\n\nconst DEFAULT_ELEVATION: MD3Elevation = 2;\nexport const ELEVATION_LEVELS_MAP = Object.values(\n  ElevationLevels\n) as ElevationLevels[];\n\nconst DEFAULT_MODE = 'elevated';\n\nconst focusFirstDOMNode = (el: View | null | undefined) => {\n  if (el && Platform.OS === 'web') {\n    // When in the browser, we want to focus the first focusable item on toggle\n    // For example, when menu is shown, focus the first item in the menu\n    // And when menu is dismissed, send focus back to the button to resume tabbing\n    if (el instanceof HTMLElement) {\n      el.querySelector<HTMLElement>(\n        // This is a rough list of selectors that can be focused\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      )?.focus();\n    }\n  }\n};\n\nconst isCoordinate = (anchor: any): anchor is { x: number; y: number } =>\n  !React.isValidElement(anchor) &&\n  typeof anchor?.x === 'number' &&\n  typeof anchor?.y === 'number';\n\nconst isBrowser = () => Platform.OS === 'web' && 'document' in global;\n\n/**\n * Menus display a list of choices on temporary elevated surfaces. Their placement varies based on the element that opens them.\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { View } from 'react-native';\n * import { Button, Menu, Divider, PaperProvider } from 'react-native-paper';\n *\n * const MyComponent = () => {\n *   const [visible, setVisible] = React.useState(false);\n *\n *   const openMenu = () => setVisible(true);\n *\n *   const closeMenu = () => setVisible(false);\n *\n *   return (\n *     <PaperProvider>\n *       <View\n *         style={{\n *           paddingTop: 50,\n *           flexDirection: 'row',\n *           justifyContent: 'center',\n *         }}>\n *         <Menu\n *           visible={visible}\n *           onDismiss={closeMenu}\n *           anchor={<Button onPress={openMenu}>Show menu</Button>}>\n *           <Menu.Item onPress={() => {}} title=\"Item 1\" />\n *           <Menu.Item onPress={() => {}} title=\"Item 2\" />\n *           <Divider />\n *           <Menu.Item onPress={() => {}} title=\"Item 3\" />\n *         </Menu>\n *       </View>\n *     </PaperProvider>\n *   );\n * };\n *\n * export default MyComponent;\n * ```\n *\n * ### Note\n * When using `Menu` within a React Native's `Modal` component, you need to wrap all\n * `Modal` contents within a `PaperProvider` in order for the menu to show. This\n * wrapping is not necessary if you use Paper's `Modal` instead.\n */\n\nconst Menu = ({\n  visible,\n  statusBarHeight,\n  overlayAccessibilityLabel = 'Close menu',\n  testID = 'menu',\n  anchor,\n  onDismiss,\n  anchorPosition,\n  contentStyle,\n  style,\n  elevation = DEFAULT_ELEVATION,\n  mode = DEFAULT_MODE,\n  children,\n  theme: themeOverrides,\n  keyboardShouldPersistTaps,\n}: Props) => {\n  const theme = useInternalTheme(themeOverrides);\n  const insets = useSafeAreaInsets();\n  const [rendered, setRendered] = React.useState(visible);\n  const [left, setLeft] = React.useState(0);\n  const [top, setTop] = React.useState(0);\n  const [menuLayout, setMenuLayout] = React.useState({ width: 0, height: 0 });\n  const [anchorLayout, setAnchorLayout] = React.useState({\n    width: 0,\n    height: 0,\n  });\n  const [windowLayout, setWindowLayout] = React.useState({\n    width: WINDOW_LAYOUT.width,\n    height: WINDOW_LAYOUT.height,\n  });\n\n  const opacityAnimationRef = React.useRef(new Animated.Value(0));\n  const scaleAnimationRef = React.useRef(new Animated.ValueXY({ x: 0, y: 0 }));\n  const keyboardHeightRef = React.useRef(0);\n  const prevVisible = React.useRef<boolean | null>(null);\n  const anchorRef = React.useRef<View | null>(null);\n  const menuRef = React.useRef<View | null>(null);\n  const prevRendered = React.useRef(false);\n\n  const keyboardDidShow = React.useCallback((e: RNKeyboardEvent) => {\n    const keyboardHeight = e.endCoordinates.height;\n    keyboardHeightRef.current = keyboardHeight;\n  }, []);\n\n  const keyboardDidHide = React.useCallback(() => {\n    keyboardHeightRef.current = 0;\n  }, []);\n\n  const keyboardDidShowListenerRef: React.RefObject<\n    EmitterSubscription | undefined\n  > = React.useRef(undefined);\n  const keyboardDidHideListenerRef: React.RefObject<\n    EmitterSubscription | undefined\n  > = React.useRef(undefined);\n\n  const backHandlerSubscriptionRef: React.RefObject<\n    NativeEventSubscription | undefined\n  > = React.useRef(undefined);\n  const dimensionsSubscriptionRef: React.RefObject<\n    NativeEventSubscription | undefined\n  > = React.useRef(undefined);\n\n  const handleDismiss = React.useCallback(() => {\n    if (visible) {\n      onDismiss?.();\n    }\n  }, [onDismiss, visible]);\n\n  const handleKeypress = React.useCallback(\n    (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        onDismiss?.();\n      }\n    },\n    [onDismiss]\n  );\n\n  const removeListeners = React.useCallback(() => {\n    backHandlerSubscriptionRef.current?.remove();\n    dimensionsSubscriptionRef.current?.remove();\n    isBrowser() && document.removeEventListener('keyup', handleKeypress);\n  }, [handleKeypress]);\n\n  const attachListeners = React.useCallback(() => {\n    backHandlerSubscriptionRef.current = addEventListener(\n      BackHandler,\n      'hardwareBackPress',\n      handleDismiss\n    );\n    dimensionsSubscriptionRef.current = addEventListener(\n      Dimensions,\n      'change',\n      handleDismiss\n    );\n    Platform.OS === 'web' && document.addEventListener('keyup', handleKeypress);\n  }, [handleDismiss, handleKeypress]);\n\n  const measureMenuLayout = () =>\n    new Promise<LayoutRectangle>((resolve) => {\n      if (menuRef.current) {\n        menuRef.current.measureInWindow((x, y, width, height) => {\n          resolve({ x, y, width, height });\n        });\n      }\n    });\n\n  const measureAnchorLayout = React.useCallback(\n    () =>\n      new Promise<LayoutRectangle>((resolve) => {\n        if (isCoordinate(anchor)) {\n          resolve({ x: anchor.x, y: anchor.y, width: 0, height: 0 });\n          return;\n        }\n\n        if (anchorRef.current) {\n          anchorRef.current.measureInWindow((x, y, width, height) => {\n            resolve({ x, y, width, height });\n          });\n        }\n      }),\n    [anchor]\n  );\n\n  const show = React.useCallback(async () => {\n    const windowLayoutResult = Dimensions.get('window');\n    const [menuLayoutResult, anchorLayoutResult] = await Promise.all([\n      measureMenuLayout(),\n      measureAnchorLayout(),\n    ]);\n\n    // When visible is true for first render\n    // native views can be still not rendered and\n    // measureMenuLayout/measureAnchorLayout functions\n    // return wrong values e.g { x:0, y: 0, width: 0, height: 0 }\n    // so we have to wait until views are ready\n    // and rerun this function to show menu\n    if (\n      !windowLayoutResult.width ||\n      !windowLayoutResult.height ||\n      !menuLayoutResult.width ||\n      !menuLayoutResult.height ||\n      (!anchorLayoutResult.width && !isCoordinate(anchor)) ||\n      (!anchorLayoutResult.height && !isCoordinate(anchor))\n    ) {\n      requestAnimationFrame(show);\n      return;\n    }\n\n    setLeft(anchorLayoutResult.x);\n    setTop(anchorLayoutResult.y);\n    setAnchorLayout({\n      height: anchorLayoutResult.height,\n      width: anchorLayoutResult.width,\n    });\n\n    setMenuLayout({\n      height: menuLayoutResult.height,\n      width: menuLayoutResult.width,\n    });\n\n    setWindowLayout({\n      height: windowLayoutResult.height - keyboardHeightRef.current,\n      width: windowLayoutResult.width,\n    });\n\n    attachListeners();\n    const { animation } = theme;\n    Animated.parallel([\n      Animated.timing(scaleAnimationRef.current, {\n        toValue: { x: menuLayoutResult.width, y: menuLayoutResult.height },\n        duration: ANIMATION_DURATION * animation.scale,\n        easing: EASING,\n        useNativeDriver: true,\n      }),\n      Animated.timing(opacityAnimationRef.current, {\n        toValue: 1,\n        duration: ANIMATION_DURATION * animation.scale,\n        easing: EASING,\n        useNativeDriver: true,\n      }),\n    ]).start(({ finished }) => {\n      if (finished) {\n        focusFirstDOMNode(menuRef.current);\n        prevRendered.current = true;\n      }\n    });\n  }, [anchor, attachListeners, measureAnchorLayout, theme]);\n\n  const hide = React.useCallback(() => {\n    removeListeners();\n\n    const { animation } = theme;\n\n    Animated.timing(opacityAnimationRef.current, {\n      toValue: 0,\n      duration: ANIMATION_DURATION * animation.scale,\n      easing: EASING,\n      useNativeDriver: true,\n    }).start(({ finished }) => {\n      if (finished) {\n        setMenuLayout({ width: 0, height: 0 });\n        setRendered(false);\n        prevRendered.current = false;\n        focusFirstDOMNode(anchorRef.current);\n      }\n    });\n  }, [removeListeners, theme]);\n\n  const updateVisibility = React.useCallback(\n    async (display: boolean) => {\n      // Menu is rendered in Portal, which updates items asynchronously\n      // We need to do the same here so that the ref is up-to-date\n      await Promise.resolve().then(() => {\n        if (display && !prevRendered.current) {\n          show();\n          return;\n        }\n\n        if (!display && prevRendered.current) {\n          hide();\n        }\n\n        return;\n      });\n    },\n    [hide, show]\n  );\n\n  React.useEffect(() => {\n    const opacityAnimation = opacityAnimationRef.current;\n    const scaleAnimation = scaleAnimationRef.current;\n    keyboardDidShowListenerRef.current = Keyboard.addListener(\n      'keyboardDidShow',\n      keyboardDidShow\n    );\n    keyboardDidHideListenerRef.current = Keyboard.addListener(\n      'keyboardDidHide',\n      keyboardDidHide\n    );\n\n    return () => {\n      removeListeners();\n      keyboardDidShowListenerRef.current?.remove();\n      keyboardDidHideListenerRef.current?.remove();\n      scaleAnimation.removeAllListeners();\n      opacityAnimation?.removeAllListeners();\n    };\n  }, [removeListeners, keyboardDidHide, keyboardDidShow]);\n\n  React.useEffect(() => {\n    if (prevVisible.current !== visible) {\n      prevVisible.current = visible;\n\n      if (visible !== rendered) {\n        setRendered(visible);\n      }\n    }\n  }, [visible, rendered]);\n\n  React.useEffect(() => {\n    updateVisibility(rendered);\n  }, [rendered, updateVisibility]);\n\n  // I don't know why but on Android measure function is wrong by 24\n  const additionalVerticalValue = Platform.select({\n    android: statusBarHeight ?? insets.top,\n    default: 0,\n  });\n\n  // We need to translate menu while animating scale to imitate transform origin for scale animation\n  const positionTransforms = [];\n  let leftTransformation = left;\n  let topTransformation =\n    !isCoordinate(anchorRef.current) && anchorPosition === 'bottom'\n      ? top + anchorLayout.height\n      : top;\n\n  // Check if menu fits horizontally and if not align it to right.\n  if (left <= windowLayout.width - menuLayout.width - SCREEN_INDENT) {\n    positionTransforms.push({\n      translateX: scaleAnimationRef.current.x.interpolate({\n        inputRange: [0, menuLayout.width],\n        outputRange: [-(menuLayout.width / 2), 0],\n      }),\n    });\n\n    // Check if menu position has enough space from left side\n    if (leftTransformation < SCREEN_INDENT) {\n      leftTransformation = SCREEN_INDENT;\n    }\n  } else {\n    positionTransforms.push({\n      translateX: scaleAnimationRef.current.x.interpolate({\n        inputRange: [0, menuLayout.width],\n        outputRange: [menuLayout.width / 2, 0],\n      }),\n    });\n\n    leftTransformation += anchorLayout.width - menuLayout.width;\n\n    const right = leftTransformation + menuLayout.width;\n    // Check if menu position has enough space from right side\n    if (right > windowLayout.width - SCREEN_INDENT) {\n      leftTransformation =\n        windowLayout.width - SCREEN_INDENT - menuLayout.width;\n    }\n  }\n\n  // If the menu is larger than available vertical space,\n  // calculate the height of scrollable view\n  let scrollableMenuHeight = 0;\n\n  // Check if the menu should be scrollable\n  if (\n    // Check if the menu overflows from bottom side\n    topTransformation >=\n      windowLayout.height -\n        menuLayout.height -\n        SCREEN_INDENT -\n        additionalVerticalValue &&\n    // And bottom side of the screen has more space than top side\n    topTransformation <= windowLayout.height - topTransformation\n  ) {\n    // Scrollable menu should be below the anchor (expands downwards)\n    scrollableMenuHeight =\n      windowLayout.height -\n      topTransformation -\n      SCREEN_INDENT -\n      additionalVerticalValue;\n  } else if (\n    // Check if the menu overflows from bottom side\n    topTransformation >=\n      windowLayout.height -\n        menuLayout.height -\n        SCREEN_INDENT -\n        additionalVerticalValue &&\n    // And top side of the screen has more space than bottom side\n    topTransformation >= windowLayout.height - top &&\n    // And menu overflows from top side\n    topTransformation <=\n      menuLayout.height -\n        anchorLayout.height +\n        SCREEN_INDENT -\n        additionalVerticalValue\n  ) {\n    // Scrollable menu should be above the anchor (expands upwards)\n    scrollableMenuHeight =\n      topTransformation +\n      anchorLayout.height -\n      SCREEN_INDENT +\n      additionalVerticalValue;\n  }\n\n  // Scrollable menu max height\n  scrollableMenuHeight =\n    scrollableMenuHeight > windowLayout.height - 2 * SCREEN_INDENT\n      ? windowLayout.height - 2 * SCREEN_INDENT\n      : scrollableMenuHeight;\n\n  // Menu is typically positioned below the element that generates it\n  // So first check if it fits below the anchor (expands downwards)\n  if (\n    // Check if menu fits vertically\n    topTransformation <=\n      windowLayout.height -\n        menuLayout.height -\n        SCREEN_INDENT -\n        additionalVerticalValue ||\n    // Or if the menu overflows from bottom side\n    (topTransformation >=\n      windowLayout.height -\n        menuLayout.height -\n        SCREEN_INDENT -\n        additionalVerticalValue &&\n      // And bottom side of the screen has more space than top side\n      topTransformation <= windowLayout.height - topTransformation)\n  ) {\n    positionTransforms.push({\n      translateY: scaleAnimationRef.current.y.interpolate({\n        inputRange: [0, menuLayout.height],\n        outputRange: [-((scrollableMenuHeight || menuLayout.height) / 2), 0],\n      }),\n    });\n\n    // Check if menu position has enough space from top side\n    if (topTransformation < SCREEN_INDENT) {\n      topTransformation = SCREEN_INDENT;\n    }\n  } else {\n    positionTransforms.push({\n      translateY: scaleAnimationRef.current.y.interpolate({\n        inputRange: [0, menuLayout.height],\n        outputRange: [(scrollableMenuHeight || menuLayout.height) / 2, 0],\n      }),\n    });\n\n    topTransformation +=\n      anchorLayout.height - (scrollableMenuHeight || menuLayout.height);\n\n    const bottom =\n      topTransformation +\n      (scrollableMenuHeight || menuLayout.height) +\n      additionalVerticalValue;\n\n    // Check if menu position has enough space from bottom side\n    if (bottom > windowLayout.height - SCREEN_INDENT) {\n      topTransformation =\n        scrollableMenuHeight === windowLayout.height - 2 * SCREEN_INDENT\n          ? -SCREEN_INDENT * 2\n          : windowLayout.height -\n            menuLayout.height -\n            SCREEN_INDENT -\n            additionalVerticalValue;\n    }\n  }\n\n  const shadowMenuContainerStyle = {\n    opacity: opacityAnimationRef.current,\n    transform: [\n      {\n        scaleX: scaleAnimationRef.current.x.interpolate({\n          inputRange: [0, menuLayout.width],\n          outputRange: [0, 1],\n        }),\n      },\n      {\n        scaleY: scaleAnimationRef.current.y.interpolate({\n          inputRange: [0, menuLayout.height],\n          outputRange: [0, 1],\n        }),\n      },\n    ],\n    borderRadius: theme.roundness,\n    ...(!theme.isV3 && { elevation: 8 }),\n    ...(scrollableMenuHeight ? { height: scrollableMenuHeight } : {}),\n  };\n\n  const positionStyle = {\n    top: isCoordinate(anchor)\n      ? topTransformation\n      : topTransformation + additionalVerticalValue,\n    ...(I18nManager.getConstants().isRTL\n      ? { right: leftTransformation }\n      : { left: leftTransformation }),\n  };\n\n  const pointerEvents = visible ? 'box-none' : 'none';\n\n  return (\n    <View\n      ref={(ref) => {\n        anchorRef.current = ref;\n      }}\n      collapsable={false}\n    >\n      {isCoordinate(anchor) ? null : anchor}\n      {rendered ? (\n        <Portal>\n          <Pressable\n            accessibilityLabel={overlayAccessibilityLabel}\n            accessibilityRole=\"button\"\n            onPress={onDismiss}\n            style={styles.pressableOverlay}\n          />\n          <View\n            ref={(ref) => {\n              menuRef.current = ref;\n            }}\n            collapsable={false}\n            accessibilityViewIsModal={visible}\n            style={[styles.wrapper, positionStyle, style]}\n            pointerEvents={pointerEvents}\n            onAccessibilityEscape={onDismiss}\n            testID={`${testID}-view`}\n          >\n            <Animated.View\n              pointerEvents={pointerEvents}\n              style={{\n                transform: positionTransforms,\n              }}\n            >\n              <Surface\n                mode={mode}\n                pointerEvents={pointerEvents}\n                style={[\n                  styles.shadowMenuContainer,\n                  shadowMenuContainerStyle,\n                  theme.isV3 && {\n                    backgroundColor:\n                      theme.colors.elevation[ELEVATION_LEVELS_MAP[elevation]],\n                  },\n                  contentStyle,\n                ]}\n                {...(theme.isV3 && { elevation })}\n                testID={`${testID}-surface`}\n                theme={theme}\n                container\n              >\n                {(scrollableMenuHeight && (\n                  <ScrollView\n                    keyboardShouldPersistTaps={keyboardShouldPersistTaps}\n                  >\n                    {children}\n                  </ScrollView>\n                )) || <React.Fragment>{children}</React.Fragment>}\n              </Surface>\n            </Animated.View>\n          </View>\n        </Portal>\n      ) : null}\n    </View>\n  );\n};\n\nMenu.Item = MenuItem;\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    position: 'absolute',\n  },\n  shadowMenuContainer: {\n    opacity: 0,\n    paddingVertical: 8,\n  },\n  pressableOverlay: {\n    ...Platform.select({\n      web: {\n        cursor: 'auto',\n      },\n    }),\n    ...StyleSheet.absoluteFillObject,\n    width: '100%',\n  },\n});\n\nexport default Menu;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}