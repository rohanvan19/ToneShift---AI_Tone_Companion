{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._createWebFontTemplate = _createWebFontTemplate;\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _expoModulesCore = require(\"expo-modules-core\");\nvar _fontfaceobserver = _interopRequireDefault(require(\"fontfaceobserver\"));\nvar _Font = require(\"./Font.types\");\nfunction _createForOfIteratorHelper(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (!t) {\n    if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) {\n      t && (r = t);\n      var _n = 0,\n        F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          return _n >= r.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: r[_n++]\n          };\n        },\n        e: function e(r) {\n          throw r;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var o,\n    a = !0,\n    u = !1;\n  return {\n    s: function s() {\n      t = t.call(r);\n    },\n    n: function n() {\n      var r = t.next();\n      return a = r.done, r;\n    },\n    e: function e(r) {\n      u = !0, o = r;\n    },\n    f: function f() {\n      try {\n        a || null == t[\"return\"] || t[\"return\"]();\n      } finally {\n        if (u) throw o;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction getFontFaceStyleSheet() {\n  if (!_expoModulesCore.Platform.isDOMAvailable) {\n    return null;\n  }\n  var styleSheet = getStyleElement();\n  return styleSheet.sheet ? styleSheet.sheet : null;\n}\nfunction getFontFaceRules() {\n  var sheet = getFontFaceStyleSheet();\n  if (sheet) {\n    var rules = (0, _toConsumableArray2[\"default\"])(sheet.cssRules);\n    var items = [];\n    for (var i = 0; i < rules.length; i++) {\n      var rule = rules[i];\n      if (rule instanceof CSSFontFaceRule) {\n        items.push({\n          rule: rule,\n          index: i\n        });\n      }\n    }\n    return items;\n  }\n  return [];\n}\nfunction getFontFaceRulesMatchingResource(fontFamilyName, options) {\n  var rules = getFontFaceRules();\n  return rules.filter(function (_ref) {\n    var rule = _ref.rule;\n    return rule.style.fontFamily === fontFamilyName && (options && options.display ? options.display === rule.style.fontDisplay : true);\n  });\n}\nvar serverContext = new Set();\nfunction getHeadElements() {\n  var entries = (0, _toConsumableArray2[\"default\"])(serverContext.entries());\n  if (!entries.length) {\n    return [];\n  }\n  var css = entries.map(function (_ref2) {\n    var _ref3 = (0, _slicedToArray2[\"default\"])(_ref2, 1),\n      css = _ref3[0].css;\n    return css;\n  }).join('\\n');\n  var links = entries.map(function (_ref4) {\n    var _ref5 = (0, _slicedToArray2[\"default\"])(_ref4, 1),\n      resourceId = _ref5[0].resourceId;\n    return resourceId;\n  });\n  return [{\n    $$type: 'style',\n    children: css,\n    id: ID,\n    type: 'text/css'\n  }].concat((0, _toConsumableArray2[\"default\"])(links.map(function (resourceId) {\n    return {\n      $$type: 'link',\n      rel: 'preload',\n      href: resourceId,\n      as: 'font',\n      crossorigin: ''\n    };\n  })));\n}\nvar _default = exports[\"default\"] = {\n  get name() {\n    return 'ExpoFontLoader';\n  },\n  unloadAllAsync: function unloadAllAsync() {\n    return (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee() {\n      var element;\n      return _regenerator[\"default\"].wrap(function (_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (_expoModulesCore.Platform.isDOMAvailable) {\n              _context.next = 1;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 1:\n            element = document.getElementById(ID);\n            if (element && element instanceof HTMLStyleElement) {\n              document.removeChild(element);\n            }\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  unloadAsync: function unloadAsync(fontFamilyName, options) {\n    return (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee2() {\n      var sheet, items, _iterator, _step, item;\n      return _regenerator[\"default\"].wrap(function (_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            sheet = getFontFaceStyleSheet();\n            if (sheet) {\n              _context2.next = 1;\n              break;\n            }\n            return _context2.abrupt(\"return\");\n          case 1:\n            items = getFontFaceRulesMatchingResource(fontFamilyName, options);\n            _iterator = _createForOfIteratorHelper(items);\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                item = _step.value;\n                sheet.deleteRule(item.index);\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  },\n  getServerResources: function getServerResources() {\n    var elements = getHeadElements();\n    return elements.map(function (element) {\n      switch (element.$$type) {\n        case 'style':\n          return \"<style id=\\\"\".concat(element.id, \"\\\" type=\\\"\").concat(element.type, \"\\\">\").concat(element.children, \"</style>\");\n        case 'link':\n          return \"<link rel=\\\"\".concat(element.rel, \"\\\" href=\\\"\").concat(element.href, \"\\\" as=\\\"\").concat(element.as, \"\\\" crossorigin=\\\"\").concat(element.crossorigin, \"\\\" />\");\n        default:\n          return '';\n      }\n    }).filter(Boolean);\n  },\n  resetServerContext: function resetServerContext() {\n    serverContext.clear();\n  },\n  isLoaded: function isLoaded(fontFamilyName) {\n    var _getFontFaceRulesMatc;\n    var resource = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (typeof window === 'undefined') {\n      return !!(0, _toConsumableArray2[\"default\"])(serverContext.values()).find(function (asset) {\n        return asset.name === fontFamilyName;\n      });\n    }\n    return ((_getFontFaceRulesMatc = getFontFaceRulesMatchingResource(fontFamilyName, resource)) === null || _getFontFaceRulesMatc === void 0 ? void 0 : _getFontFaceRulesMatc.length) > 0;\n  },\n  loadAsync: function loadAsync(fontFamilyName, resource) {\n    if (typeof window === 'undefined') {\n      serverContext.add({\n        name: fontFamilyName,\n        css: _createWebFontTemplate(fontFamilyName, resource),\n        resourceId: resource.uri\n      });\n      return Promise.resolve();\n    }\n    var canInjectStyle = document.head && typeof document.head.appendChild === 'function';\n    if (!canInjectStyle) {\n      throw new _expoModulesCore.CodedError('ERR_WEB_ENVIRONMENT', \"The browser's `document.head` element doesn't support injecting fonts.\");\n    }\n    var style = getStyleElement();\n    document.head.appendChild(style);\n    var res = getFontFaceRulesMatchingResource(fontFamilyName, resource);\n    if (!res.length) {\n      _createWebStyle(fontFamilyName, resource);\n    }\n    if (!isFontLoadingListenerSupported()) {\n      return Promise.resolve();\n    }\n    return new _fontfaceobserver[\"default\"](fontFamilyName, {\n      display: resource.display\n    }).load(null, 6000);\n  }\n};\nvar ID = 'expo-generated-fonts';\nfunction getStyleElement() {\n  var element = document.getElementById(ID);\n  if (element && element instanceof HTMLStyleElement) {\n    return element;\n  }\n  var styleElement = document.createElement('style');\n  styleElement.id = ID;\n  styleElement.type = 'text/css';\n  return styleElement;\n}\nfunction _createWebFontTemplate(fontFamily, resource) {\n  return \"@font-face{font-family:\".concat(fontFamily, \";src:url(\").concat(resource.uri, \");font-display:\").concat(resource.display || _Font.FontDisplay.AUTO, \"}\");\n}\nfunction _createWebStyle(fontFamily, resource) {\n  var fontStyle = _createWebFontTemplate(fontFamily, resource);\n  var styleElement = getStyleElement();\n  if (styleElement.styleSheet) {\n    var styleElementIE = styleElement;\n    styleElementIE.styleSheet.cssText = styleElementIE.styleSheet.cssText ? styleElementIE.styleSheet.cssText + fontStyle : fontStyle;\n  } else {\n    var textNode = document.createTextNode(fontStyle);\n    styleElement.appendChild(textNode);\n  }\n  return styleElement;\n}\nfunction isFontLoadingListenerSupported() {\n  var userAgent = window.navigator.userAgent;\n  var isIOS = !!userAgent.match(/iPad|iPhone/i);\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  var isEdge = userAgent.includes('Edge');\n  var isIE = userAgent.includes('Trident');\n  var isFirefox = userAgent.includes('Firefox');\n  return !isSafari && !isIOS && !isEdge && !isIE && !isFirefox;\n}","map":{"version":3,"names":["_expoModulesCore","require","_fontfaceobserver","_interopRequireDefault","_Font","_createForOfIteratorHelper","r","e","t","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","_n","F","s","n","done","value","f","TypeError","o","a","u","call","next","_arrayLikeToArray","toString","slice","constructor","name","from","test","getFontFaceStyleSheet","Platform","isDOMAvailable","styleSheet","getStyleElement","sheet","getFontFaceRules","rules","_toConsumableArray2","cssRules","items","i","rule","CSSFontFaceRule","push","index","getFontFaceRulesMatchingResource","fontFamilyName","options","filter","_ref","style","fontFamily","display","fontDisplay","serverContext","Set","getHeadElements","entries","css","map","_ref2","_ref3","_slicedToArray2","join","links","_ref4","_ref5","resourceId","$$type","children","id","ID","type","concat","rel","href","as","crossorigin","_default","exports","unloadAllAsync","_asyncToGenerator2","_regenerator","mark","_callee","element","wrap","_context","prev","abrupt","document","getElementById","HTMLStyleElement","removeChild","stop","unloadAsync","_callee2","_iterator","_step","item","_context2","deleteRule","err","getServerResources","elements","Boolean","resetServerContext","clear","isLoaded","_getFontFaceRulesMatc","resource","arguments","undefined","window","values","find","asset","loadAsync","add","_createWebFontTemplate","uri","Promise","resolve","canInjectStyle","head","appendChild","CodedError","res","_createWebStyle","isFontLoadingListenerSupported","load","styleElement","createElement","FontDisplay","AUTO","fontStyle","styleElementIE","cssText","textNode","createTextNode","userAgent","navigator","isIOS","match","isSafari","isEdge","includes","isIE","isFirefox"],"sources":["C:\\Users\\vanma\\StudioProjects\\ToneShift\\toneshift-frontend\\node_modules\\expo-font\\src\\ExpoFontLoader.web.ts"],"sourcesContent":["import { CodedError, Platform } from 'expo-modules-core';\nimport FontObserver from 'fontfaceobserver';\n\nimport { UnloadFontOptions } from './Font';\nimport { FontDisplay, FontResource } from './Font.types';\n\nfunction getFontFaceStyleSheet(): CSSStyleSheet | null {\n  if (!Platform.isDOMAvailable) {\n    return null;\n  }\n  const styleSheet = getStyleElement();\n  return styleSheet.sheet ? (styleSheet.sheet as CSSStyleSheet) : null;\n}\n\ntype RuleItem = { rule: CSSFontFaceRule; index: number };\n\nfunction getFontFaceRules(): RuleItem[] {\n  const sheet = getFontFaceStyleSheet();\n  if (sheet) {\n    // @ts-ignore: rule iterator\n    const rules = [...sheet.cssRules];\n\n    const items: RuleItem[] = [];\n\n    for (let i = 0; i < rules.length; i++) {\n      const rule = rules[i];\n      if (rule instanceof CSSFontFaceRule) {\n        items.push({ rule, index: i });\n      }\n    }\n    return items;\n  }\n  return [];\n}\n\nfunction getFontFaceRulesMatchingResource(\n  fontFamilyName: string,\n  options?: UnloadFontOptions\n): RuleItem[] {\n  const rules = getFontFaceRules();\n  return rules.filter(({ rule }) => {\n    return (\n      rule.style.fontFamily === fontFamilyName &&\n      (options && options.display ? options.display === (rule.style as any).fontDisplay : true)\n    );\n  });\n}\n\nconst serverContext: Set<{ name: string; css: string; resourceId: string }> = new Set();\n\nfunction getHeadElements(): {\n  $$type: string;\n  rel?: string;\n  href?: string;\n  as?: string;\n  crossorigin?: string;\n  children?: string;\n  id?: string;\n  type?: string;\n}[] {\n  const entries = [...serverContext.entries()];\n  if (!entries.length) {\n    return [];\n  }\n  const css = entries.map(([{ css }]) => css).join('\\n');\n  const links = entries.map(([{ resourceId }]) => resourceId);\n  // TODO: Maybe return nothing if no fonts were loaded.\n  return [\n    {\n      $$type: 'style',\n      children: css,\n      id: ID,\n      type: 'text/css',\n    },\n    ...links.map((resourceId) => ({\n      $$type: 'link',\n      rel: 'preload',\n      href: resourceId,\n      as: 'font',\n      crossorigin: '',\n    })),\n  ];\n}\n\nexport default {\n  get name(): string {\n    return 'ExpoFontLoader';\n  },\n\n  async unloadAllAsync(): Promise<void> {\n    if (!Platform.isDOMAvailable) return;\n\n    const element = document.getElementById(ID);\n    if (element && element instanceof HTMLStyleElement) {\n      document.removeChild(element);\n    }\n  },\n\n  async unloadAsync(fontFamilyName: string, options?: UnloadFontOptions): Promise<void> {\n    const sheet = getFontFaceStyleSheet();\n    if (!sheet) return;\n    const items = getFontFaceRulesMatchingResource(fontFamilyName, options);\n    for (const item of items) {\n      sheet.deleteRule(item.index);\n    }\n  },\n\n  getServerResources(): string[] {\n    const elements = getHeadElements();\n\n    return elements\n      .map((element) => {\n        switch (element.$$type) {\n          case 'style':\n            return `<style id=\"${element.id}\" type=\"${element.type}\">${element.children}</style>`;\n          case 'link':\n            return `<link rel=\"${element.rel}\" href=\"${element.href}\" as=\"${element.as}\" crossorigin=\"${element.crossorigin}\" />`;\n          default:\n            return '';\n        }\n      })\n      .filter(Boolean);\n  },\n\n  resetServerContext() {\n    serverContext.clear();\n  },\n\n  isLoaded(fontFamilyName: string, resource: UnloadFontOptions = {}): boolean {\n    if (typeof window === 'undefined') {\n      return !![...serverContext.values()].find((asset) => {\n        return asset.name === fontFamilyName;\n      });\n    }\n    return getFontFaceRulesMatchingResource(fontFamilyName, resource)?.length > 0;\n  },\n\n  // NOTE(EvanBacon): No async keyword! This cannot return a promise in Node environments.\n  loadAsync(fontFamilyName: string, resource: FontResource): Promise<void> {\n    if (typeof window === 'undefined') {\n      serverContext.add({\n        name: fontFamilyName,\n        css: _createWebFontTemplate(fontFamilyName, resource),\n        // @ts-expect-error: typeof string\n        resourceId: resource.uri!,\n      });\n      return Promise.resolve();\n    }\n\n    const canInjectStyle = document.head && typeof document.head.appendChild === 'function';\n    if (!canInjectStyle) {\n      throw new CodedError(\n        'ERR_WEB_ENVIRONMENT',\n        `The browser's \\`document.head\\` element doesn't support injecting fonts.`\n      );\n    }\n\n    const style = getStyleElement();\n    document.head!.appendChild(style);\n\n    const res = getFontFaceRulesMatchingResource(fontFamilyName, resource);\n    if (!res.length) {\n      _createWebStyle(fontFamilyName, resource);\n    }\n\n    if (!isFontLoadingListenerSupported()) {\n      return Promise.resolve();\n    }\n\n    return new FontObserver(fontFamilyName, { display: resource.display }).load(null, 6000);\n  },\n};\n\nconst ID = 'expo-generated-fonts';\n\nfunction getStyleElement(): HTMLStyleElement {\n  const element = document.getElementById(ID);\n  if (element && element instanceof HTMLStyleElement) {\n    return element;\n  }\n  const styleElement = document.createElement('style');\n  styleElement.id = ID;\n  styleElement.type = 'text/css';\n  return styleElement;\n}\n\nexport function _createWebFontTemplate(fontFamily: string, resource: FontResource): string {\n  return `@font-face{font-family:${fontFamily};src:url(${resource.uri});font-display:${\n    resource.display || FontDisplay.AUTO\n  }}`;\n}\n\nfunction _createWebStyle(fontFamily: string, resource: FontResource): HTMLStyleElement {\n  const fontStyle = _createWebFontTemplate(fontFamily, resource);\n\n  const styleElement = getStyleElement();\n  // @ts-ignore: TypeScript does not define HTMLStyleElement::styleSheet. This is just for IE and\n  // possibly can be removed if it's unnecessary on IE 11.\n  if (styleElement.styleSheet) {\n    const styleElementIE = styleElement as any;\n    styleElementIE.styleSheet.cssText = styleElementIE.styleSheet.cssText\n      ? styleElementIE.styleSheet.cssText + fontStyle\n      : fontStyle;\n  } else {\n    const textNode = document.createTextNode(fontStyle);\n    styleElement.appendChild(textNode);\n  }\n  return styleElement;\n}\n\nfunction isFontLoadingListenerSupported(): boolean {\n  const { userAgent } = window.navigator;\n  // WebKit is broken https://github.com/bramstein/fontfaceobserver/issues/95\n  const isIOS = !!userAgent.match(/iPad|iPhone/i);\n  const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  // Edge is broken https://github.com/bramstein/fontfaceobserver/issues/109#issuecomment-333356795\n  const isEdge = userAgent.includes('Edge');\n  // Internet Explorer\n  const isIE = userAgent.includes('Trident');\n  // Firefox\n  const isFirefox = userAgent.includes('Firefox');\n  return !isSafari && !isIOS && !isEdge && !isIE && !isFirefox;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}